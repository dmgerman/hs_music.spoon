#+TITLE: hs_music Spoon
#+AUTHOR: Daniel M German
#+VERSION: 0.1

A Hammerspoon spoon for controlling Apple Music playback and volume.

* Features

- *Playback Control*: Play/pause, next track, previous track
- *Track Info*: Get and display current track name, artist, and album
- *Volume Control*: Set and get Music app volume (0-100) via AppleScript
- *Volume Delta*: Change volume by a percentage amount (increase/decrease)

** Playback Control

- =toggleMusicAppPlayPause()= - Play or pause current track
- =nextMusicAppTrack()= - Skip to next track
- =previousMusicAppTrack()= - Go to previous track

** Track Information

- =getMusicAppCurrentTrack()= - Returns formatted string: "TrackName - Artist [Album]"
- =showMusicAppCurrentTrack()= - Display track info in alert (uses =alertDuration=)

** Volume Control

- =setMusicAppVolume(level)= - Set volume to a specific level (0-100 percent); returns new volume or nil
- =getMusicAppVolume()= - Get current volume as percentage (0-100)
- =adjustMusicAppVolume(delta)= - Adjust volume by a given amount (can be negative); returns new volume or nil


** Low-Level

- =sendMusicAppCommand(command)= - Send raw AppleScript command to Music app

* Example Usage

#+BEGIN_SRC lua
local music = hs.loadSpoon("hs_music")

-- Set alert duration to 3 seconds
music.alertDuration = 3

-- Toggle play/pause
music:toggleMusicAppPlayPause()

-- Skip to next track
music:nextMusicAppTrack()

-- Show current track with artist and album
music:showMusicAppCurrentTrack()

-- Set volume to specific level (50%)
music:setMusicAppVolume(50)

-- Increase volume by 10%
music:adjustMusicAppVolume(10)

-- Decrease volume by 5%
music:adjustMusicAppVolume(-5)
#+END_SRC

* Requirements

- macOS with Apple Music app
- Hammerspoon

* Notes

- Volume control uses AppleScript to directly query and set the Music app volume
- Track info includes artist and album in formatted output
- All operations gracefully handle errors with user alerts
